<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<UsingTask TaskName="TranspileCsx" AssemblyFile="NReact.Csx.exe" />
	
  <PropertyGroup>
      <PrepareResourcesDependsOn>
                TranspileCsx;
                $(PrepareResourcesDependsOn)
      </PrepareResourcesDependsOn>
  </PropertyGroup>	
	
	<Target Name="TranspileCsx">
		<TranspileCsx ProjectPath="$(ProjectDir)" OutputPath="$(IntermediateOutputPath)" TemplateFiles="@(CsxTranspiler)" SourceCodeFiles="@(Compile)" >
		   <Output ItemName="Compile" TaskParameter="GeneratedSourceCodeFiles" />
		</TranspileCsx>
	</Target>
	
  <ItemGroup Condition="'$(BuildingInsideVisualStudio)'=='true'">
    <AvailableItemName Include="CsxTranspiler" />
  </ItemGroup>
	
</Project>